#include <IRremote.h>

const int IR_PIN = 3; // 将红外发射器连接到数字引脚3
IRsend irsend(IR_PIN);

decode_results results;

//// RAW编码的示例数据，表示一个红外信号

unsigned int poweon_Data[200] = {4400,4400,450,1700,500,550,500,1650,500,1700,500,550,500,550,500,1700,500,550,500,550,500,1700,500,550,500,550,500,1700,500,1650,500,550,500,1700,450,1700,500,550,500,600,450,1700,500,1650,500,1650,500,1700,450,1700,500,550,500,1650,500,1700,500,550,500,550,500,600,500,550,500,600,450,1700,500,1650,500,550,500,1700,500,1650,500,1650,500,600,450,600,500,550,500,600,500,1650,500,550,500,600,500,550,500,1650,500,1650,500,5154,4400,4400,450,1700,500,550,500,1650,500,1700,500,550,500,550,500,1700,500,550,500,550,500,1700,500,550,500,550,500,1700,500,1650,500,550,500,1700,450,1700,500,550,500,600,450,1700,500,1650,500,1650,500,1700,450,1700,500,550,500,1650,500,1700,500,550,500,550,500,600,500,550,500,600,450,1700,500,1650,500,550,500,1700,500,1650,500,1650,500,600,450,600,500,550,500,600,500,1650,500,550,500,600,500,550,500,1650,500,1650,500};
unsigned int poweoff_Data[200] = {4450,4350,550,1600,550,550,500,1650,550,1600,550,550,500,550,550,1600,550,550,500,550,550,1600,550,550,500,550,550,1600,550,1600,550,550,500,1650,550,500,550,1650,500,1650,550,1600,550,1600,550,500,550,1650,550,1600,550,1650,500,550,550,500,550,550,500,550,550,1600,550,550,500,550,550,1600,550,1650,500,1650,500,550,550,500,550,550,550,500,550,550,500,550,550,550,500,550,500,1650,550,1600,550,1650,500,1650,500,1650,550,5154,4450,4350,550,1600,550,550,500,1650,550,1600,550,550,500,550,550,1600,550,550,500,550,550,1600,550,550,500,550,550,1600,550,1600,550,550,500,1650,550,500,550,1650,500,1650,550,1600,550,1600,550,500,550,1650,550,1600,550,1650,500,550,550,500,550,550,500,550,550,1600,550,550,500,550,550,1600,550,1650,500,1650,500,550,550,500,550,550,550,500,550,550,500,550,550,550,500,550,500,1650,550,1600,550,1650,500,1650,500,1650,550};
void setup() {
  Serial.begin(9600);
  Serial.println("I have restarted!");
}

void loop() {
  char command = Serial.read();
  Serial.println(command);
  if (command == 'a') { 
    Serial.println("Sending RAW IR code...");
    irsend.sendRaw(poweon_Data,200, 38); // 发送RAW编码的红外信号
    delay(1000); // 等待5秒后再次发送信号 
  }

  if (command == 'b') { 
    Serial.println("Sending RAW IR code...");
    irsend.sendRaw(poweoff_Data,200, 38); // 发送RAW编码的红外信号
    delay(1000); // 等待5秒后再次发送信号 
  }
}
